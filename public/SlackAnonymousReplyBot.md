---
title: Slack匿名チャットボットで返信する方法【ワークフロー】
tags:
  - 自動化
  - bot
  - Slack
  - コミュニケーション
  - slackbot
private: false
updated_at: '2024-04-30T02:32:03+09:00'
id: 92c79830347163b56409
organization_url_name: null
slide: false
ignorePublish: false
---
# はじめに
初めまして皆さん。icep1anetと申します。
普段Qiitaは読む専なのですが記事を書いて備忘録として(僕というよりこれからのエンジニアたちのために)残しておきたいと思い今年から投稿を始めることにしました。
文章を書くのは得意ではないので温かい目で見守っていただけると幸いです。

# 動機
さて、早速ですが本題に入っていきます。
最近Qiitaの記事を読んでいるとこんな記事を見つけました。
[【ワークフロー】Slackで匿名掲示板を作る](https://qiita.com/eiji-noguchi/items/75b7d1b06ed46318f350)
面白そうだと思い研究室内で実装したところ
> 誰が送ったかわかんないし、スレッド使えないから会話するのむずいなこれ

という意見がでました。
確かに、と思い自分なりに方法を考えてみました。

# 方法
基本的な流れは参考にした記事と同じなので、肝心のワークフロー部分について説明します。
### ワークフローの全体像
結論から言うと以下のようなワークフローになります。
![anonymousThreadWorkflow.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/df21acd2-7161-efda-c3e3-9d5a5aff27a1.png)
### 作成方法
ワークフローを作成する画面に入った後、ワークフローの開始方法として絵文字リアクションが使用されたときを選択します。
![workflow1.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/d5fd94fe-e07b-c7ac-7267-d494098ea45f.png)
次に絵文字(好きなもの)とチャンネルを指定します。
![workflow2.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/d5f8f7e9-5ac3-7531-73f3-6f36ba626493.png)
左上にある名前や説明、画像などを変更した後(任意)
サイドバーからメッセージ→誰かにメッセージを送信するを選び、**メンバーを選択する**から`メッセージにリアクションしたユーザー`を選択します。また**メッセージを追加する**の部分には右下の変数を挿入するボタンから`リアクションされたメッセージへのリンク`を入れておくと返信先が確認できるため便利です。
また**ボタンを含める**にチェックを入れておきましょう。これをチェックしておかないと返信できません。メッセージには適当に返信するなどを入れておきます。
![workflow3.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/48b88731-5815-9346-50a7-da8a6a53e9b1.png)
次に、サイドバーから**フォーム**を選択して**タイトル**、**回答形式**、**質問内容**等を入力してワークフローに追加します。
![workflow4.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/f5f18771-b0dd-b30b-392d-2ec70c52dfbf.png)
次に、サイドバーから**スレッドでメッセージに返信する**を選択して**返信先のメッセージを選択する**で`リアクションされたメッセージへの参照`を設定。
また、**返信を追加する**の内容に先ほどフォームで収集した`返信するメッセージを入力してくださいへの回答`を設定しておきます。
![workflow5.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/2393b149-9062-5e66-726f-be6e5f34c916.png)
最後に右上の設定から権限を変更して公開したらワークフローの構築は完了です。

### 使用方法
使用方法は使用したいメッセージに対して設定したリアクションを付けます。(付けた後消すのを忘れずに、付けるのは一瞬で大丈夫です)
![reactionStamp.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/eb295173-93a5-85a2-1c39-5c63f27b5803.png)
すると以下のようにBotからDMが届くので返信するボタンを押して返信メッセージを入力します。
![anonymousThreadBotDM.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/f241fe5a-4e66-aec9-1e3e-e1292e26270a.png)
匿名で返信することができました！！
![anonymousThreadBotReply.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/3296286/e781bcb1-205e-bf85-d3db-9c2c6a8db700.png)

# 問題点
勘の良い人はお気づきのようにこの方法には問題点がいくつかあります。
1. リアクションをつけて消さないといけない(消さないと誰が返信してるかわかってしまう)
2. DMに返信ボタンが届くためチャンネルを離れる必要がある
3. 返信されたことに気づけない(自分に対する返信ではないため通知が来ない)
これらの問題点は、自分でSlackBotを自作することで解決できますがBotをつくってしまうと維持管理を行わなければならないため、今回はワークフローのみで行えることとして今回の方法を紹介しました。
現状これらの問題点を解決できる方法は見つかっていません。解決策を知っている方はコメントまでお願いします。

# おわりに
はじめての投稿ということで簡単な内容から始めてみました。
これからも不定期にですが投稿を続けていきたいと思っていますのでいいね、コメント等よろしくお願いします！
